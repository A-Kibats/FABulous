# LUT4AB
# double with MID cascade : [N,E,S,W]2BEG --- [N,E,S,W]2MID -> [N,E,S,W]2BEGb --- [N,E,S,W]2END (just routing)
[N|E|S|W]2BEGb[0|1|2|3|4|5|6|7],[N|E|S|W]2MID[0|1|2|3|4|5|6|7]

############## LUT Inputs ##############
############## LUT Inputs ##############
############## LUT Inputs ##############

# shared double MID jump wires
J2MID_ABa[0|0|0|0],[J2N3|N2MID6|S2MID6|W2MID6]
J2MID_ABa[1|1|1|1],[E2MID2|J2E3|S2MID2|W2MID2]
J2MID_ABa[2|2|2|2],[E2MID4|N2MID4|J2S3|W2MID4]
J2MID_ABa[3|3|3|3],[E2MID0|N2MID0|S2MID0|J2W3]
J2MID_CDa[0|0|0|0],[E2MID6|J2N4|S2MID6|W2MID6]
J2MID_CDa[1|1|1|1],[E2MID2|N2MID2|J2E4|W2MID2]
J2MID_CDa[2|2|2|2],[E2MID4|N2MID4|S2MID4|J2S4]
J2MID_CDa[3|3|3|3],[J2W4|N2MID0|S2MID0|W2MID0]
J2MID_EFa[0|0|0|0],[E2MID6|N2MID6|J2N5|W2MID6]
J2MID_EFa[1|1|1|1],[E2MID2|N2MID2|S2MID2|J2E5]
J2MID_EFa[2|2|2|2],[J2S5|N2MID4|S2MID4|W2MID4]
J2MID_EFa[3|3|3|3],[E2MID0|J2W5|S2MID0|W2MID0]
J2MID_GHa[0|0|0|0],[E2MID6|N2MID6|S2MID6|J2N6]
J2MID_GHa[1|1|1|1],[J2E6|N2MID2|S2MID2|W2MID2]
J2MID_GHa[2|2|2|2],[E2MID4|J2S6|S2MID4|W2MID4]
J2MID_GHa[3|3|3|3],[E2MID0|N2MID0|J2W6|W2MID0]
J2MID_GHa[3|3|3|3],[E2MID0|N2MID0|J2W6|W2MID0]

J2MID_ABb[0|0|0|0],[E2MID7|N2MID7|S2MID7|W2MID7]
J2MID_ABb[1|1|1|1],[E2MID3|N2MID3|S2MID3|W2MID3]
J2MID_ABb[2|2|2|2],[E2MID5|N2MID5|S2MID5|W2MID5]
J2MID_ABb[3|3|3|3],[E2MID1|N2MID1|S2MID1|W2MID1]
J2MID_CDb[0|0|0|0],[E2MID7|N2MID7|S2MID7|W2MID7]
J2MID_CDb[1|1|1|1],[E2MID3|N2MID3|S2MID3|W2MID3]
J2MID_CDb[2|2|2|2],[E2MID5|N2MID5|S2MID5|W2MID5]
J2MID_CDb[3|3|3|3],[E2MID1|N2MID1|S2MID1|W2MID1]
J2MID_EFb[0|0|0|0],[E2MID7|N2MID7|S2MID7|W2MID7]
J2MID_EFb[1|1|1|1],[E2MID3|N2MID3|S2MID3|W2MID3]
J2MID_EFb[2|2|2|2],[E2MID5|N2MID5|S2MID5|W2MID5]
J2MID_EFb[3|3|3|3],[E2MID1|N2MID1|S2MID1|W2MID1]
J2MID_GHb[0|0|0|0],[E2MID7|N2MID7|S2MID7|W2MID7]
J2MID_GHb[1|1|1|1],[E2MID3|N2MID3|S2MID3|W2MID3]
J2MID_GHb[2|2|2|2],[E2MID5|N2MID5|S2MID5|W2MID5]
J2MID_GHb[3|3|3|3],[E2MID1|N2MID1|S2MID1|W2MID1]

# shared double END jump wires
J2END_AB[0|0|0|0],[E2END6|N2END6|S2END6|W2END6]
J2END_AB[1|1|1|1],[E2END2|N2END2|S2END2|W2END2]
J2END_AB[2|2|2|2],[E2END4|N2END4|S2END4|W2END4]
J2END_AB[3|3|3|3],[E2END0|N2END0|S2END0|W2END0]
J2END_CD[0|0|0|0],[E2END6|N2END6|S2END6|W2END6]
J2END_CD[1|1|1|1],[E2END2|N2END2|S2END2|W2END2]
J2END_CD[2|2|2|2],[E2END4|N2END4|S2END4|W2END4]
J2END_CD[3|3|3|3],[E2END0|N2END0|S2END0|W2END0]
J2END_EF[0|0|0|0],[E2END7|N2END7|S2END7|W2END7]
J2END_EF[1|1|1|1],[E2END3|N2END3|S2END3|W2END3]
J2END_EF[2|2|2|2],[E2END5|N2END5|S2END5|W2END5]
J2END_EF[3|3|3|3],[E2END1|N2END1|S2END1|W2END1]
J2END_GH[0|0|0|0],[E2END7|N2END7|S2END7|W2END7]
J2END_GH[1|1|1|1],[E2END3|N2END3|S2END3|W2END3]
J2END_GH[2|2|2|2],[E2END5|N2END5|S2END5|W2END5]
J2END_GH[3|3|3|3],[E2END1|N2END1|S2END1|W2END1]

# shared double END jump wires I shared that with the flop outputs
# J_l_AB_BEG[0|0|0|0],[JN2END1|N4END3|S4END3|W6END3]
# J_l_AB_BEG[1|1|1|1],[E6END2|JE2END1|S4END2|W6END2]
# J_l_AB_BEG[2|2|2|2],[E6END1|N4END1|JS2END1|W6END1]
# J_l_AB_BEG[3|3|3|3],[E6END0|N4END0|S4END0|JW2END1]
# J_l_CD_BEG[0|0|0|0],[E6END3|JN2END2|S4END3|W6END3]
# J_l_CD_BEG[1|1|1|1],[E6END2|N4END2|JE2END2|W6END2]
# J_l_CD_BEG[2|2|2|2],[E6END1|N4END1|S4END1|JS2END2]
# J_l_CD_BEG[3|3|3|3],[JW2END2|N4END0|S4END0|W6END0]
# J_l_EF_BEG[0|0|0|0],[E6END3|N4END3|JN2END3|W6END3]
# J_l_EF_BEG[1|1|1|1],[E6END2|N4END2|S4END2|JE2END3]
# J_l_EF_BEG[2|2|2|2],[JS2END3|N4END1|S4END1|W6END1]
# J_l_EF_BEG[3|3|3|3],[E6END0|JW2END3|S4END0|W6END0]
# J_l_GH_BEG[0|0|0|0],[E6END3|N4END3|S4END3|JN2END4]
# J_l_GH_BEG[1|1|1|1],[JE2END4|N4END2|S4END2|W6END2]
# J_l_GH_BEG[2|2|2|2],[E6END1|JS2END4|S4END1|W6END1]
# J_l_GH_BEG[3|3|3|3],[E6END0|N4END0|JW2END4|W6END0]

J_l_AB[0|0|0|0],[J2N1|N4END3|S4END3|W2END3]
J_l_AB[1|1|1|1],[E2END2|J2E1|S4END2|W2END2]
J_l_AB[2|2|2|2],[E6END1|N4END1|J2S1|W6END1]
J_l_AB[3|3|3|3],[E6END0|N4END0|S4END0|J2W1]
J_l_CD[0|0|0|0],[E2END3|J2N2|S4END3|W2END3]
J_l_CD[1|1|1|1],[E2END2|N4END2|J2E2|W2END2]
J_l_CD[2|2|2|2],[E6END1|N4END1|S4END1|J2S2]
J_l_CD[3|3|3|3],[J2W2|N4END0|S4END0|W6END0]
J_l_EF[0|0|0|0],[E2END3|N4END3|J2N3|W2END3]
J_l_EF[1|1|1|1],[E2END2|N4END2|S4END2|J2E3]
J_l_EF[2|2|2|2],[J2S3|N4END1|S4END1|W6END1]
J_l_EF[3|3|3|3],[E6END0|J2W3|S4END0|W6END0]
J_l_GH[0|0|0|0],[E2END3|N4END3|S4END3|J2N4]
J_l_GH[1|1|1|1],[J2E4|N4END2|S4END2|W2END2]
J_l_GH[2|2|2|2],[E6END1|J2S4|S4END1|W6END1]
J_l_GH[3|3|3|3],[E6END0|N4END0|J2W4|W6END0]

# the actual LUT input multiplexer
L[A|B]_I0,[J2MID_ABa0|J2MID_ABa0]
L[A|B]_I1,[J2MID_ABa1|J2MID_ABa1]
L[A|B]_I2,[J2MID_ABa2|J2MID_ABa2]
L[A|B]_I3,[J2MID_ABa3|J2MID_ABa3]
L[C|D]_I0,[J2MID_CDa0|J2MID_CDa0] 
L[C|D]_I1,[J2MID_CDa1|J2MID_CDa1] 
L[C|D]_I2,[J2MID_CDa2|J2MID_CDa2] 
L[C|D]_I3,[J2MID_CDa3|J2MID_CDa3] 
L[E|F]_I0,[J2MID_EFa0|J2MID_EFa0]      
L[E|F]_I1,[J2MID_EFa1|J2MID_EFa1]      
L[E|F]_I2,[J2MID_EFa2|J2MID_EFa2]      
L[E|F]_I3,[J2MID_EFa3|J2MID_EFa3]      
L[G|H]_I0,[J2MID_GHa0|J2MID_GHa0]	  
L[G|H]_I1,[J2MID_GHa1|J2MID_GHa1]	  
L[G|H]_I2,[J2MID_GHa2|J2MID_GHa2]	  
L[G|H]_I3,[J2MID_GHa3|J2MID_GHa3]	  
                               
L[A|B]_I0,[J2MID_ABb0|J2MID_ABb0]
L[A|B]_I1,[J2MID_ABb1|J2MID_ABb1]
L[A|B]_I2,[J2MID_ABb2|J2MID_ABb2]
L[A|B]_I3,[J2MID_ABb3|J2MID_ABb3]
L[C|D]_I0,[J2MID_CDb0|J2MID_CDb0]
L[C|D]_I1,[J2MID_CDb1|J2MID_CDb1]
L[C|D]_I2,[J2MID_CDb2|J2MID_CDb2]
L[C|D]_I3,[J2MID_CDb3|J2MID_CDb3]
L[E|F]_I0,[J2MID_EFb0|J2MID_EFb0]
L[E|F]_I1,[J2MID_EFb1|J2MID_EFb1]
L[E|F]_I2,[J2MID_EFb2|J2MID_EFb2]
L[E|F]_I3,[J2MID_EFb3|J2MID_EFb3]
L[G|H]_I0,[J2MID_GHb0|J2MID_GHb0]
L[G|H]_I1,[J2MID_GHb1|J2MID_GHb1]
L[G|H]_I2,[J2MID_GHb2|J2MID_GHb2]
L[G|H]_I3,[J2MID_GHb3|J2MID_GHb3]
 
L[A|B]_I0,[J2END_AB0|J2END_AB0]
L[A|B]_I1,[J2END_AB1|J2END_AB1]
L[A|B]_I2,[J2END_AB2|J2END_AB2]
L[A|B]_I3,[J2END_AB3|J2END_AB3]
L[C|D]_I0,[J2END_CD0|J2END_CD0]
L[C|D]_I1,[J2END_CD1|J2END_CD1]
L[C|D]_I2,[J2END_CD2|J2END_CD2]
L[C|D]_I3,[J2END_CD3|J2END_CD3]
L[E|F]_I0,[J2END_EF0|J2END_EF0]
L[E|F]_I1,[J2END_EF1|J2END_EF1]
L[E|F]_I2,[J2END_EF2|J2END_EF2]
L[E|F]_I3,[J2END_EF3|J2END_EF3]
L[G|H]_I0,[J2END_GH0|J2END_GH0]
L[G|H]_I1,[J2END_GH1|J2END_GH1]
L[G|H]_I2,[J2END_GH2|J2END_GH2]
L[G|H]_I3,[J2END_GH3|J2END_GH3]
                           
L[A|B]_I0,[J_l_AB0|J4END_AB0]
L[A|B]_I1,[J_l_AB1|J4END_AB1]
L[A|B]_I2,[J_l_AB2|J4END_AB2]
L[A|B]_I3,[J_l_AB3|J4END_AB3]
L[C|D]_I0,[J_l_CD0|J4END_CD0]
L[C|D]_I1,[J_l_CD1|J4END_CD1]
L[C|D]_I2,[J_l_CD2|J4END_CD2]
L[C|D]_I3,[J_l_CD3|J4END_CD3]
L[E|F]_I0,[J_l_EF0|J4END_EF0]
L[E|F]_I1,[J_l_EF1|J4END_EF1]
L[E|F]_I2,[J_l_EF2|J4END_EF2]
L[E|F]_I3,[J_l_EF3|J4END_EF3]
L[G|H]_I0,[J_l_GH0|J4END_GH0]
L[G|H]_I1,[J_l_GH1|J4END_GH1]
L[G|H]_I2,[J_l_GH2|J4END_GH2]
L[G|H]_I3,[J_l_GH3|J4END_GH3]

# LUT output routing
# LUT output routing
# LUT output routing

# The double wires (which have a mid connection) will get highest connectivity 
# this is why we connect all LUT outputs to them as well as some more wires for local routing
# 16:1 muxes each (we specify them in two rounds of 8-driver port sets)
J2N[0|0|0|0|0|0|0|0],[E1END3|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2N[1|1|1|1|1|1|1|1],[LA_O|E1END0|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2N[2|2|2|2|2|2|2|2],[LA_O|LB_O|E1END1|LD_O|LE_O|LF_O|LG_O|LH_O]
J2N[3|3|3|3|3|3|3|3],[LA_O|LB_O|LC_O|E1END2|LE_O|LF_O|LG_O|LH_O]
J2N[4|4|4|4|4|4|4|4],[LA_O|LB_O|LC_O|LD_O|W1END3|LF_O|LG_O|LH_O]
J2N[5|5|5|5|5|5|5|5],[LA_O|LB_O|LC_O|LD_O|LE_O|W1END0|LG_O|LH_O]
J2N[6|6|6|6|6|6|6|6],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|W1END1|LH_O]
J2N[7|7|7|7|7|7|7|7],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|W1END2]

J2E[0|0|0|0|0|0|0|0],[N1END3|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2E[1|1|1|1|1|1|1|1],[LA_O|N1END0|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2E[2|2|2|2|2|2|2|2],[LA_O|LB_O|N1END1|LD_O|LE_O|LF_O|LG_O|LH_O]
J2E[3|3|3|3|3|3|3|3],[LA_O|LB_O|LC_O|N1END2|LE_O|LF_O|LG_O|LH_O]
J2E[4|4|4|4|4|4|4|4],[LA_O|LB_O|LC_O|LD_O|S1END3|LF_O|LG_O|LH_O]
J2E[5|5|5|5|5|5|5|5],[LA_O|LB_O|LC_O|LD_O|LE_O|S1END0|LG_O|LH_O]
J2E[6|6|6|6|6|6|6|6],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|S1END1|LH_O]
J2E[7|7|7|7|7|7|7|7],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|S1END2]

J2S[0|0|0|0|0|0|0|0],[E1END3|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2S[1|1|1|1|1|1|1|1],[LA_O|E1END0|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2S[2|2|2|2|2|2|2|2],[LA_O|LB_O|E1END1|LD_O|LE_O|LF_O|LG_O|LH_O]
J2S[3|3|3|3|3|3|3|3],[LA_O|LB_O|LC_O|E1END2|LE_O|LF_O|LG_O|LH_O]
J2S[4|4|4|4|4|4|4|4],[LA_O|LB_O|LC_O|LD_O|W1END3|LF_O|LG_O|LH_O]
J2S[5|5|5|5|5|5|5|5],[LA_O|LB_O|LC_O|LD_O|LE_O|W1END0|LG_O|LH_O]
J2S[6|6|6|6|6|6|6|6],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|W1END1|LH_O]
J2S[7|7|7|7|7|7|7|7],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|W1END2]

J2W[0|0|0|0|0|0|0|0],[N1END3|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2W[1|1|1|1|1|1|1|1],[LA_O|N1END0|LC_O|LD_O|LE_O|LF_O|LG_O|LH_O]
J2W[2|2|2|2|2|2|2|2],[LA_O|LB_O|N1END1|LD_O|LE_O|LF_O|LG_O|LH_O]
J2W[3|3|3|3|3|3|3|3],[LA_O|LB_O|LC_O|N1END2|LE_O|LF_O|LG_O|LH_O]
J2W[4|4|4|4|4|4|4|4],[LA_O|LB_O|LC_O|LD_O|S1END3|LF_O|LG_O|LH_O]
J2W[5|5|5|5|5|5|5|5],[LA_O|LB_O|LC_O|LD_O|LE_O|S1END0|LG_O|LH_O]
J2W[6|6|6|6|6|6|6|6],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|S1END1|LH_O]
J2W[7|7|7|7|7|7|7|7],[LA_O|LB_O|LC_O|LD_O|LE_O|LF_O|LG_O|S1END2]

# 
J2N[0|0|0|0|0|0|0|0],[M_AB|N2END1|E2END1|S2END1|W2END1|W6END1|E6END1|N4END1]
J2N[1|1|1|1|1|1|1|1],[M_AD|N2END2|E2END2|S2END2|W2END2|W6END0|E6END0|N4END2]
J2N[2|2|2|2|2|2|2|2],[M_AH|N2END3|E2END3|S2END3|W2END3|W6END1|E6END1|N4END3]
J2N[3|3|3|3|3|3|3|3],[M_EF|N2END4|E2END4|S2END4|W2END4|W6END0|E6END0|N4END0]
J2N[4|4|4|4|4|4|4|4],[M_AB|N2END5|E2END5|S2END5|N1END1|E1END1|S1END1|W1END1]
J2N[5|5|5|5|5|5|5|5],[M_AD|N2END6|E2END6|S2END6|N1END2|E1END2|S1END2|W1END2]
J2N[6|6|6|6|6|6|6|6],[M_AH|N2END7|E2END7|S2END7|N1END3|E1END3|S1END3|W1END3]
J2N[7|7|7|7|7|7|7|7],[M_EF|N2END0|E2END0|S2END0|N1END0|E1END0|S1END0|W1END0]

J2E[0|0|0|0|0|0|0|0],[M_EF|N2END1|E2END1|S2END1|W2END1|W6END1|E6END1|N4END1]
J2E[1|1|1|1|1|1|1|1],[M_AB|N2END2|E2END2|S2END2|W2END2|W6END0|E6END0|N4END2]
J2E[2|2|2|2|2|2|2|2],[M_AD|N2END3|E2END3|S2END3|W2END3|W6END1|E6END1|N4END3]
J2E[3|3|3|3|3|3|3|3],[M_AH|N2END4|E2END4|S2END4|W2END4|W6END0|E6END0|N4END0]
J2E[4|4|4|4|4|4|4|4],[M_EF|N2END5|E2END5|S2END5|N1END1|E1END1|S1END1|W1END1]
J2E[5|5|5|5|5|5|5|5],[M_AB|N2END6|E2END6|S2END6|N1END2|E1END2|S1END2|W1END2]
J2E[6|6|6|6|6|6|6|6],[M_AD|N2END7|E2END7|S2END7|N1END3|E1END3|S1END3|W1END3]
J2E[7|7|7|7|7|7|7|7],[M_AH|N2END0|E2END0|S2END0|N1END0|E1END0|S1END0|W1END0]
                           
J2S[0|0|0|0|0|0|0|0],[M_AH|N2END1|E2END1|S2END1|W2END1|W6END1|E6END1|S4END1]
J2S[1|1|1|1|1|1|1|1],[M_EF|N2END2|E2END2|S2END2|W2END2|W6END0|E6END0|S4END2]
J2S[2|2|2|2|2|2|2|2],[M_AB|N2END3|E2END3|S2END3|W2END3|W6END1|E6END1|S4END3]
J2S[3|3|3|3|3|3|3|3],[M_AD|N2END4|E2END4|S2END4|W2END4|W6END0|E6END0|S4END0]
J2S[4|4|4|4|4|4|4|4],[M_AH|N2END5|E2END5|S2END5|N1END1|E1END1|S1END1|W1END1]
J2S[5|5|5|5|5|5|5|5],[M_EF|N2END6|E2END6|S2END6|N1END2|E1END2|S1END2|W1END2]
J2S[6|6|6|6|6|6|6|6],[M_AB|N2END7|E2END7|S2END7|N1END3|E1END3|S1END3|W1END3]
J2S[7|7|7|7|7|7|7|7],[M_AD|N2END0|E2END0|S2END0|N1END0|E1END0|S1END0|W1END0]
                       
J2W[0|0|0|0|0|0|0|0],[M_AD|N2END1|E2END1|S2END1|W2END1|W6END1|E6END1|S4END1]
J2W[1|1|1|1|1|1|1|1],[M_AH|N2END2|E2END2|S2END2|W2END2|W6END0|E6END0|S4END2]
J2W[2|2|2|2|2|2|2|2],[M_EF|N2END3|E2END3|S2END3|W2END3|W6END1|E6END1|S4END3]
J2W[3|3|3|3|3|3|3|3],[M_AB|N2END4|E2END4|S2END4|W2END4|W6END0|E6END0|S4END0]
J2W[4|4|4|4|4|4|4|4],[M_AD|N2END5|E2END5|S2END5|N1END1|E1END1|S1END1|W1END1]
J2W[5|5|5|5|5|5|5|5],[M_AH|N2END6|E2END6|S2END6|N1END2|E1END2|S1END2|W1END2]
J2W[6|6|6|6|6|6|6|6],[M_EF|N2END7|E2END7|S2END7|N1END3|E1END3|S1END3|W1END3]
J2W[7|7|7|7|7|7|7|7],[M_AB|N2END0|E2END0|S2END0|N1END0|E1END0|S1END0|W1END0]

# connection from the double jump wires (stopovers) to the actual double wires                           
[N|E|S|W]2BEG[0|1|2|3|4|5|6|7],J2[N|E|S|W][0|1|2|3|4|5|6|7]
	  
# single wires
# [N|E|S|W]1BEG0,J_l_CD_END1,J2END_CD_END2,J2MID_CDa_END3,J2MID_CDb_END3
# [N|E|S|W]1BEG0,J_l_EF_END2,J2END_EF_END3,J2MID_EFa_END0,J2MID_EFb_END0
# [N|E|S|W]1BEG0,J_l_GH_END3,J2END_GH_END0,J2MID_GHa_END1,J2MID_GHb_END1
# [N|E|S|W]1BEG0,J_l_AB_END0,J2END_AB_END1,J2MID_ABa_END2,J2MID_ABb_END2

# [N|E|S|W]1BEG1,J_l_CD_END2,J2END_CD_END2,J2MID_CDa_END3,J2MID_CDb_END3
# [N|E|S|W]1BEG1,J_l_EF_END3,J2END_EF_END3,J2MID_EFa_END0,J2MID_EFb_END0
# [N|E|S|W]1BEG1,J_l_GH_END4,J2END_GH_END0,J2MID_GHa_END1,J2MID_GHb_END1
# [N|E|S|W]1BEG1,J_l_AB_END5,J2END_AB_END1,J2MID_ABa_END2,J2MID_ABb_END2

# quad wires (we only have 4 of them in each vertical direction)
N4BEG[0|0|0|0],[N4END1|N2END2|E6END1|LE_O]
N4BEG[1|1|1|1],[N4END2|N2END3|E6END0|LF_O]
N4BEG[2|2|2|2],[N4END3|N2END0|W6END1|LG_O]
N4BEG[3|3|3|3],[N4END0|N2END1|W6END1|LH_O]

S4BEG[0|0|0|0],[S4END1|S2END2|E6END1|LA_O]
S4BEG[1|1|1|1],[S4END2|S2END3|E6END0|LB_O]
S4BEG[2|2|2|2],[S4END3|S2END0|W6END1|LC_O]
S4BEG[3|3|3|3],[S4END0|S2END1|W6END1|LD_O]

# connect LUT outputs to multiplexer block inputs
[A|B|C|D|E|F|G|H],L[A|B|C|D|E|F|G|H]_O
# we use a MUX 4 for the select inputs
S[0|0|0|0],J2[N|E|S|W]4
S[1|1|1|1],J2[N|E|S|W]5
S[2|2|2|2],J2[N|E|S|W]6
S[3|3|3|3],J2[N|E|S|W]7

# Carry chain  Ci -> LA_Ci-LA_Co -> LB_Ci-LB_Co -> ... -> LH_Ci-LH_Co -> Co
LA_Ci,Ci0
L[B|C|D|E|F|G|H]_Ci,L[A|B|C|D|E|F|G]_Co
Co0,LH_Co



